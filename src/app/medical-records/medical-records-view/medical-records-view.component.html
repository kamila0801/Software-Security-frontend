<div class="flex items-center justify-center min-h-screen">
    <p-card header="Medical Records" class="w-3/4">

        @if(getRole === 'Doctor') {
            <p-iftalabel class="mb-4">
                <p-dropdown
                        id="patients"
                        [options]="patientsArray()"
                        class="w-full"
                        placeholder="Select patient"
                        (onChange)="loadRecordsByPatientId($event.value)"
                ></p-dropdown>
                <label for="patients">Patients</label>
            </p-iftalabel>
        }

        <p-table [value]="records" [paginator]="true" [rows]="5">
            <ng-template pTemplate="header">
                <tr>
                    <th>ID</th>
                    <th>User ID</th>
                    <th>Record Data</th>
                    <th>Created At</th>
                    <th>Updated At</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-record>
                <tr>
                    <td>{{ record.id }}</td>
                    <td>{{ record.userId }}</td>
                    <td>{{ record.recordData }}</td>
                    <td>{{ record.createdAt | date: 'short' }}</td>
                    <td>{{ record.updatedAt ? (record.updatedAt | date: 'short') : 'N/A' }}</td>
                </tr>
            </ng-template>
        </p-table>
    </p-card>
</div>

